{"version":3,"sources":["app/api/store/storage/helpers.js","app/api/store/reducers/index.js","app/api/store/reducers/tasks.js","app/const/actionTypes.js","app/api/store/storage/index.js","app/routes/index.js","app/api/server/index.js","app/api/store/actions/creators.js","app/blocks/containers/PageStart.js","app/api/store/actions/dispatchers.js","app/blocks/components/PageStart.jsx","app/blocks/components/todo_list/SingleTask.jsx","app/blocks/containers/todo_list/SingleTask.js","app/blocks/components/todo_list/TasksList.jsx","app/blocks/containers/todo_list/TasksList.js","app/api/store/selectors/index.js","app/blocks/components/todo_list/ActionsBlock.jsx","app/blocks/containers/todo_list/ActionsBlock.js","app/blocks/components/todo_list/PageTodoList.jsx","app/routes/appRoutes.js","assets/themes/MainTheme.js","index.js","app/blocks/AppMain.js"],"names":["devTools","window","devToolsEnhancer","composeWithDevTools","name","realtime","hostname","port","history","createBrowserHistory","combineReducers","tasks","state","arguments","length","undefined","action","type","configureStore","initialState","middlewares","thunk","routerMiddleware","enhancers","applyMiddleware","apply","createStore","connectRouter","rootReducer","compose","routes","_ref","getUrls","react_default","a","createElement","Switch","map","route","index","Action","isExact","exact","Object","assign","key","HOST","protocol","saveOnServer","obj","data","FormData","append","JSON","stringify","fetch","method","body","then","response","text","catch","error","console","log","message","updateTask","id","value","addNewTask","deleteTask","doneTask","creators","mapDispatchToProps","push","path","dispatch","routerPush","connect","reactConnect","Button_default","className","onClick","SingleTask","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleUpdateStart","changeTotalUpdating","setState","isCurrentUpdating","scrollTop","handleKeyDown","e","keyCode","changingValue","trim","handleUpdateSave","handleUpdateCancel","handleTextChange","target","_this$props","fieldAddTask","updatedField","focus","_this$props2","_this$state","handleRemoveTask","_this$props3","handleDoneTask","_this$props4","isDone","taskInfo","isScroll","isTotalUpdating","updatedFieldRef","createRef","nextProps","nextState","nextContext","prevProps","prevState","snapShot","current","forceUpdate","_this$state2","Fragment","style","backgroundColor","concat","disabled","border","marginTop","ref","onChange","onKeyDown","test","Component","TaskList","getOrder","reduce","result","task","changeUpdatingState","changeScrollTop","changeUpdating","onDragEnd","destination","items","list","startIndex","endIndex","Array","from","_result$splice","splice","removed","slicedToArray","reorder","source","order","listInit","newList","forEach","newProp","isNotPresent","listProp","_this2","document","getElementsByClassName","addEventListener","srcElement","needScrolling","scrollTo","scrollHeight","_this3","react_beautiful_dnd_esm","droppableId","isDropDisabled","provided","innerRef","overflowY","item","draggableId","objectSpread","draggableProps","cursor","todo_list_SingleTask","placeholder","json","longPolling","Date","getUpdatedList","getTasks","List","ActionsBlock","addNewTaskHandle","taskValue","addFieldRef","isUpdating","getAddTaskInput","Actions","PageTodoList","inputAddTask","TasksList","todo_list_ActionsBlock","appRoutes","main","Route","component","Start","support","Redirect","to","createMuiTheme","typography","useNextVariants","app","es","store","lib","styles","theme","root","getElementById","render"],"mappings":"+UAIaA,EAAWC,OAAOC,kBAAoBC,8BAAoB,CAClEC,KAAM,qCACVC,UAAU,EACVC,SAAU,YACNC,KAAM,MAEEC,EAAUC,8BCNRC,4BAAgB,CAAEC,MCDlB,WAA6B,IAA5BC,EAA4BC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAApB,GAAIG,EAAgBH,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAP,GACpC,OAAQG,EAAOC,MACd,ICL+B,oBDM9B,OAAOD,EAAOL,MAGf,QACC,OAAOC,MEgBKM,EAlBQ,SAACC,GACvB,IAAMC,EAAc,CACnBC,IACAC,2BAAiBd,IAEZe,EAAY,CACjBC,kBAAeC,WAAf,EAAmBL,GACnBpB,KAGD,OAAO0B,sBACNC,wBAAcnB,EAAdmB,CAAuBC,GACvBT,EACAU,UAAOJ,WAAP,EAAWF,IAKEL,CAAe,aCJfY,EAAA,SAAAC,GAAA,IAAGC,EAAHD,EAAGC,QAAH,OACdC,EAAAC,EAAAC,cAACC,EAAA,EAAD,KACcJ,IAnBFK,IACX,SAACC,EAAOC,GACP,IAAMC,EAASF,EAAMtB,OACfyB,EAAUH,EAAMI,MAKtB,cAHOJ,EAAMtB,cACNsB,EAAMI,MAGZD,EACGR,EAAAC,EAAAC,cAACK,EAADG,OAAAC,OAAA,CAAQC,IAAKN,GAAWD,EAAxB,CAA+BI,OAAK,KACpCT,EAAAC,EAAAC,cAACK,EAADG,OAAAC,OAAA,CAAQC,IAAKN,GAAWD,0BCbzBQ,EAAOC,+BAEPC,EAAe,SAAAC,GACpB,IAAMC,EAAO,IAAIC,SACjBD,EAAKE,OACJ,OACAC,KAAKC,UAAUL,IAShBM,MANYT,gDACG,CACdU,OAAQ,OACRC,KAAMP,IAILQ,KACA,SAAAC,GAAQ,OAAIA,EAASC,SAErBC,MACA,SAAAC,GAAWC,QAAQC,IAAI,uDAAyDF,EAAMG,YAmC5EC,EAAa,SAACC,EAAIC,GAC9BpB,EAAa,CACZhC,OAAQ,cACRmD,KACAC,WAGWC,EAAa,SAAAD,GACzBpB,EAAa,CACZhC,OAAQ,WACRoD,WAGWE,EAAa,SAAAH,GACzBnB,EAAa,CACZhC,OAAQ,cACRmD,QAGWI,EAAW,SAAAJ,GACvBnB,EAAa,CACZhC,OAAQ,YACRmD,QC7EaK,EACG,SAAA7D,GAAK,MAAK,CAC1BM,KJL+B,oBIM/BN,2BCAI8D,UAAqB,CAACC,KCkBR,SAAAC,GAAI,OAAI,SAAAC,GAC3BA,EAASC,eAAWF,QDhBNG,EAFCC,kBAFQ,iBAAO,IAEeN,EAE/BK,CEFA,SAAA/C,GAAc,IAAX2C,EAAW3C,EAAX2C,KAKjB,OAAOzC,EAAAC,EAAAC,cAAC6C,EAAA9C,EAAD,CAAQ+C,UAAU,UAAUC,QAJf,WACnBR,EAAK,WAGC,iFCNaS,sBAgFpB,SAAAA,EAAYC,GAAO,IAAAC,EAAA1C,OAAA2C,EAAA,EAAA3C,CAAA4C,KAAAJ,IAClBE,EAAA1C,OAAA6C,EAAA,EAAA7C,CAAA4C,KAAA5C,OAAA8C,EAAA,EAAA9C,CAAAwC,GAAAO,KAAAH,KAAMH,KAhFPO,kBAAoB,WAAM,IACjBC,EAAwBP,EAAKD,MAA7BQ,oBAERP,EAAKQ,SAAS,CACbC,mBAAmB,IAGpBF,GACC,EACA,SAAAG,GACCV,EAAKQ,SAAS,CACbE,UAAWA,OAoEIV,EA/DnBW,cAAgB,SAAAC,GACG,KAAdA,EAAEC,SACDb,EAAKzE,MAAMuF,cAAcC,QAC5Bf,EAAKgB,mBAGW,KAAdJ,EAAEC,SACLb,EAAKiB,sBAwDYjB,EArDnBkB,iBAAmB,SAAAN,GAClBZ,EAAKQ,SAAS,CACbM,cAAeF,EAAEO,OAAOpC,SAmDPiB,EAhDnBiB,mBAAqB,WAAM,IAAAG,EACoBpB,EAAKD,MAA3CsB,EADkBD,EAClBC,aAAcd,EADIa,EACJb,oBACdxB,EAAUiB,EAAKzE,MAAfwD,MAERiB,EAAKQ,SAAS,CACbC,mBAAmB,EACfK,cAAe/B,IAEpBiB,EAAKsB,aAAe,KACpBD,EAAaE,QAEbhB,GAAoB,EAAO,eAqCTP,EAnCnBgB,iBAAmB,WAAM,IAAAQ,EACkCxB,EAAKD,MAAvDsB,EADgBG,EAChBH,aAAcd,EADEiB,EACFjB,oBAAqB1B,EADnB2C,EACmB3C,WADnB4C,EAEMzB,EAAKzE,MAA3BuD,EAFgB2C,EAEhB3C,GAAIgC,EAFYW,EAEZX,cAEZd,EAAKQ,SAAS,CACbC,mBAAmB,EACP1B,MAAO+B,IAEpBd,EAAKsB,aAAe,KACpBD,EAAaE,QAEbhB,GAAoB,EAAO,cAC3B1B,EAAWC,EAAIgC,IAuBGd,EApBnB0B,iBAAmB,WAAM,IAAAC,EACa3B,EAAKD,MAAlCsB,EADgBM,EAChBN,aAAcpC,EADE0C,EACF1C,WACdH,EAAOkB,EAAKzE,MAAZuD,GACRuC,EAAaE,QAEbtC,EAAWH,IAeOkB,EAbnB4B,eAAiB,WAAM,IAAAC,EACa7B,EAAKD,MAAhCsB,EADcQ,EACdR,aAAcnC,EADA2C,EACA3C,SACdJ,EAAOkB,EAAKzE,MAAZuD,GAERkB,EAAKQ,SAAS,CACbsB,QAAQ,IAETT,EAAaE,QAEbrC,EAASJ,IAIS,IAEViD,EAAkChC,EAAlCgC,SAAUrB,EAAwBX,EAAxBW,UAAWsB,EAAajC,EAAbiC,SAFX,OAIlBhC,EAAKzE,MAAQ,CACZmF,YACAsB,WACAvB,mBAAmB,EACjBwB,iBAAiB,EAClBnB,cAAeiB,EAAShD,MAEnBD,GAAIiD,EAASjD,GAChBC,MAAOgD,EAAShD,MACd+C,OAAQC,EAASD,QAGvB9B,EAAKkC,gBAAkBC,sBACpBnC,EAAKsB,aAAe,KAjBLtB,qFAoBGoC,EAAWC,EAAWC,GAkB3C,OAjBIF,EAAS,SAAarD,QAAUmB,KAAKH,MAAL,SAAuBhB,OAC1DmB,KAAKM,SAAS,CACLzB,MAAOqD,EAAS,SAAarD,MACrC+B,cAAesB,EAAS,SAAarD,QAGnCqD,EAAS,SAAaN,SAAW5B,KAAKH,MAAL,SAAuB+B,QAC3D5B,KAAKM,SAAS,CACbsB,OAAQM,EAAS,SAAaN,SAG5BM,EAAUH,kBAAoB/B,KAAKH,MAAMkC,iBAC5C/B,KAAKM,SAAS,CACbyB,gBAAiBG,EAAUH,mBAItB,6CAIWM,EAAWC,EAAWC,GACpCvC,KAAKoB,aACJpB,KAAK3E,MAAMkF,mBACdP,KAAKoB,aAAaC,QAIfrB,KAAKgC,gBAAgBQ,UACxBxC,KAAKoB,aAAepB,KAAKgC,gBAAgBQ,SAIvCH,EAAUP,WAAa9B,KAAKH,MAAMiC,WACrC9B,KAAKM,SAAS,CACbwB,SAAU9B,KAAKH,MAAMiC,WAEtB9B,KAAKyC,gDAIE,IAAAC,EASJ1C,KAAK3E,MAPRuG,EAFOc,EAEPd,OACA/C,EAHO6D,EAGP7D,MACA+B,EAJO8B,EAIP9B,cACAL,EALOmC,EAKPnC,kBACAwB,EANOW,EAMPX,gBACAvB,EAPOkC,EAOPlC,UACAsB,EAROY,EAQPZ,SAGD,OADFtD,QAAQC,IAAKqD,GAEVpF,EAAAC,EAAAC,cAAAF,EAAAC,EAAAgG,SAAA,KAECf,EAEElF,EAAAC,EAAAC,cAAA,OACC8C,UAAU,aACVkD,MAAO,CAAEC,gBAAiB,SAE1BnG,EAAAC,EAAAC,cAAA,OAAK8C,UAAU,aAAab,GAC5BnC,EAAAC,EAAAC,cAAA,OAAK8C,UAAS,YAAAoD,OACAf,IAAoBD,EAAa,aAAe,gBAE7DpF,EAAAC,EAAAC,cAAC6C,EAAA9C,EAAD,CACC+C,UAAU,oBACVC,QAASK,KAAKwB,iBACduB,SAAUhB,GAHX,YASFrF,EAAAC,EAAAC,cAAA,OACC8C,UAAU,aACVkD,MAAO,CACNC,gBAAiBtC,EAAoB,UAAY,SAIlDA,EAEE7D,EAAAC,EAAAC,cAAAF,EAAAC,EAAAgG,SAAA,KACCjG,EAAAC,EAAAC,cAAA,OACC8C,UAAU,eACVkD,MAAO,CACNI,OAAQzC,EAAoB,iBAAmB,SAGhD7D,EAAAC,EAAAC,cAAA,SACC8C,UAAU,kBACVkD,MAAO,CAAEK,UAAS,GAAAH,OAAK,EAAItC,EAAT,OAClB9E,KAAK,OACLmD,MAAO+B,EACPsC,IAAKlD,KAAKgC,gBACVmB,SAAUnD,KAAKgB,iBACfoC,UAAWpD,KAAKS,cAChBd,QAASK,KAAKqD,QAGhB3G,EAAAC,EAAAC,cAAA,OAAK8C,UAAS,YAAAoD,OACAf,IAAoBD,EAAa,aAAe,gBAE7DpF,EAAAC,EAAAC,cAAC6C,EAAA9C,EAAD,CACC+C,UAAU,2BACVC,QAASK,KAAKc,iBACdiC,UAAWnC,EAAcC,QAH1B,QAKAnE,EAAAC,EAAAC,cAAC6C,EAAA9C,EAAD,CACC+C,UAAU,6BACVC,QAASK,KAAKe,oBAFf,YAQFrE,EAAAC,EAAAC,cAAAF,EAAAC,EAAAgG,SAAA,KACCjG,EAAAC,EAAAC,cAAA,OAAK8C,UAAU,aAAab,GAC5BnC,EAAAC,EAAAC,cAAA,OAAK8C,UAAS,YAAAoD,OACAf,IAAoBD,EAAa,aAAe,gBAE7DpF,EAAAC,EAAAC,cAAC6C,EAAA9C,EAAD,CACC+C,UAAU,uBACVC,QAASK,KAAK0B,eACdqB,SAAUhB,GAHX,QAKArF,EAAAC,EAAAC,cAAC6C,EAAA9C,EAAD,CACC+C,UAAU,8BACVC,QAASK,KAAKI,kBACd2C,SAAUhB,GAHX,UAKArF,EAAAC,EAAAC,cAAC6C,EAAA9C,EAAD,CACC+C,UAAU,yBACVC,QAASK,KAAKwB,iBACduB,SAAUhB,GAHX,qBAzO6BuB,cCGzB/D,EAFCC,kBAFQ,iBAAO,CAAET,aAAYC,WAAUL,eAC5B,GAGZY,CAAQK,GCDF2D,sBAyCpB,SAAAA,EAAY1D,GAAO,IAAAC,EAAA,OAAA1C,OAAA2C,EAAA,EAAA3C,CAAA4C,KAAAuD,IAClBzD,EAAA1C,OAAA6C,EAAA,EAAA7C,CAAA4C,KAAA5C,OAAA8C,EAAA,EAAA9C,CAAAmG,GAAApD,KAAAH,KAAMH,KAzCP2D,SAAW,SAAApI,GAAK,OAAIA,EAAMqI,OACzB,SAACC,EAAQC,GAER,OADAD,EAAOvE,KAAKwE,EAAK/E,IACV8E,GAER,KAmCkB5D,EAjCnB8D,oBAAsB,SAAC7B,EAAiB8B,GACvC/D,EAAKQ,SAAS,CACbyB,oBAEDjC,EAAKD,MAAMiE,eAAe/B,GAEtBA,GACH8B,EAAgB/D,EAAKU,YA0BJV,EAvBnBiE,UAAY,SAAAL,GACX,GAAIA,EAAOM,YAAa,CACvB,IAOMC,EAPU,SAACC,EAAMC,EAAYC,GAClC,IAAMV,EAASW,MAAMC,KAAKJ,GADqBK,EAE7Bb,EAAOc,OAAOL,EAAY,GAArCM,EAFwCrH,OAAAsH,EAAA,EAAAtH,CAAAmH,EAAA,MAK/C,OAFAb,EAAOc,OAAOJ,EAAU,EAAGK,GAEpBf,EAEMiB,CACb7E,EAAKzE,MAAM4I,MACXP,EAAOkB,OAAO5H,MACd0G,EAAOM,YAAYhH,OAGpB8C,EAAKQ,SAAS,CACb2D,QACAY,MAAO/E,EAAK0D,SAASS,OASvBpE,EAAMiF,WAENhF,EAAKzE,MAAQ,CACF4I,MAAO,GACbY,MAAO,GACP/C,UAAU,EACdC,iBAAiB,GAElBjC,EAAKU,UAAY,EAXCV,qFAcGoC,EAAWC,EAAWC,GAC3C,GAAIpC,KAAKH,MAAMzE,QAAU8G,EAAU9G,MAClC,GAAgC,IAA5B4E,KAAKH,MAAMzE,MAAMG,OACpByE,KAAKM,SAAS,CACb2D,MAAO/B,EAAU9G,MACjByJ,MAAO7E,KAAKwD,SAAStB,EAAU9G,SAE5B8G,EAAU9G,MAAMG,OAAS,GAC5ByE,KAAKM,SAAS,CACbwB,UAAU,IAGRI,EAAU9G,MAAMG,QAAU,GAC7ByE,KAAKM,SAAS,CACbwB,UAAU,QAIR,CACJ,IAAIiD,EAAU,GAEd/E,KAAK3E,MAAMwJ,MAAMG,QAChB,SAAApG,GACCsD,EAAU9G,MAAM4J,QACf,SAAAC,GACKA,EAAQrG,KAAOA,GAClBmG,EAAQ5F,KAAK8F,OAMlB/C,EAAU9G,MAAM4J,QACf,SAAAC,GACC,IAAIC,GAAe,EAEnBH,EAAQC,QACP,SAAAG,GACKF,EAAQrG,KAAOuG,EAASvG,KAC3BsG,GAAe,KAKdA,GACHH,EAAQ5F,KAAK8F,KAKhBjF,KAAKM,SAAS,CACb2D,MAAOc,KAEH/E,KAAK3E,MAAMyG,UAAYiD,EAAQxJ,OAAS,GAC5CyE,KAAKM,SAAS,CACbwB,UAAU,IAGR9B,KAAK3E,MAAMyG,UAAYiD,EAAQxJ,QAAU,GAC5CyE,KAAKM,SAAS,CACbwB,UAAU,IAMd,OAAO,6CAGWO,EAAWC,EAAWC,GAAU,IAAA6C,EAAApF,KAC5CkE,EAAOmB,SAASnH,KAAKoH,uBAAuB,YAAY,GAE1DpB,IACHA,EAAKqB,iBACJ,SACA,SAAA7E,GACC0E,EAAK5E,UAAYE,EAAE8E,WAAWhF,YAI5BR,KAAKyF,gBACRzF,KAAKyF,eAAgB,EACrBvB,EAAKwB,SAAS,EAAGxB,EAAKyB,eAGrBtD,EAAUjH,MAAMG,OAASyE,KAAKH,MAAMzE,MAAMG,QAEf,IAA3B8G,EAAUjH,MAAMG,SAEjByE,KAAKyF,eAAgB,qCAKf,IAAAG,EAAA5F,KACAmB,EAAiBnB,KAAKH,MAAtBsB,aADAI,EAEqCvB,KAAK3E,MAA1C0G,EAFAR,EAEAQ,gBAAiBkC,EAFjB1C,EAEiB0C,MAAOnC,EAFxBP,EAEwBO,SAEhC,OACCpF,EAAAC,EAAAC,cAACiJ,EAAA,EAAD,CAAiB9B,UAAW/D,KAAK+D,WAChCrH,EAAAC,EAAAC,cAACiJ,EAAA,EAAD,CAAWC,YAAY,YAAYC,eAAgBhE,GAElD,SAAAiE,GAAQ,OACPtJ,EAAAC,EAAAC,cAAA,OACC8C,UAAU,WACVwD,IAAK8C,EAASC,SACdrD,MAAO,CAAEsD,UAAWnE,EAAkB,SAAW,SAEhDkC,EAAMnH,IACN,SAACqJ,EAAMnJ,GAAP,OACCN,EAAAC,EAAAC,cAACiJ,EAAA,EAAD,CACCvI,IAAK6I,EAAKvH,GACVwH,YAAaD,EAAKvH,GAClB5B,MAAOA,GAGP,SAAAgJ,GAAQ,OACPtJ,EAAAC,EAAAC,cAAA,MAAAQ,OAAAC,OAAA,CACCqC,UAAU,cACVwD,IAAK8C,EAASC,UACVD,EAAQ,eACRA,EAAQ,gBAJb,CAMCpD,MAAKxF,OAAAiJ,EAAA,EAAAjJ,CAAA,GACD4I,EAASM,eAAe1D,MADvB,CAEJ2D,OAAQxE,EAAkB,UAAY,WAGvCrF,EAAAC,EAAAC,cAAC4J,EAAD,CACC3E,SAAUsE,EACVpE,gBAAiBA,EACjB1B,oBAAqBuF,EAAKhC,oBAC1BzC,aAAcA,EACdW,SAAUA,SAQdkE,EAASS,uBApMoBnD,cCChCpE,EAAqB,CAAC4F,SLJJ,kBAAM,SAAAzF,GHwB7BrB,MAAMT,EAAO,qBACXY,KACA,SAAAC,GAAQ,OAAIA,EAASsI,SAErBpI,MACA,SAAAC,GAAWC,QAAQC,IAAI,uDAAyDF,EAAMG,WGjBtFP,KACA,SAAA/C,GACCiE,EAASJ,EAAyB7D,MAbjB,SAAduL,KH+BuB,WAC7B,IAAMhJ,EAAO,IAAIC,SAYjB,OAXAD,EAAKE,OACJ,OACAC,KAAKC,WAAW,IAAI6I,OASd5I,MANKT,+CACG,CACdU,OAAQ,OACRC,KAAMP,IAILQ,KACA,SAAAC,GAAQ,OAAIA,EAASsI,SAErBpI,MACA,SAAAC,GAAWC,QAAQC,IAAI,uDAAyDF,EAAMG,YGhDvFmI,GACE1I,KACA,SAAA/C,GACCiE,EAASJ,EAAyB7D,IAClCuL,MAWJA,MKVcpH,EAFCC,kBAJQ,SAAAnE,GAAK,MAAK,CACjCD,MCPuB,SAAAC,GAAK,OAAIA,EAAMD,MDO/B0L,CAASzL,KAG6B6D,EAE/BK,CAAQwH,GELFC,sBAsBpB,SAAAA,EAAYnH,GAAO,IAAAC,EAAA,OAAA1C,OAAA2C,EAAA,EAAA3C,CAAA4C,KAAAgH,IAClBlH,EAAA1C,OAAA6C,EAAA,EAAA7C,CAAA4C,KAAA5C,OAAA8C,EAAA,EAAA9C,CAAA4J,GAAA7G,KAAAH,KAAMH,KAtBPoH,iBAAmB,WAClBnH,EAAKD,MAAMf,WAAWgB,EAAKzE,MAAM6L,WACjCpH,EAAKqH,YAAY3E,QAAQnB,QACzBvB,EAAKQ,SAAS,CACb4G,UAAW,MAiBMpH,EAdnBkB,iBAAmB,SAAAN,GAClBZ,EAAKQ,SAAS,CACb4G,UAAWxG,EAAEO,OAAOpC,SAYHiB,EATnBW,cAAgB,SAAAC,GACG,KAAdA,EAAEC,UACAb,EAAKzE,MAAM+L,YACftH,EAAKmH,qBASPnH,EAAKzE,MAAQ,CACX6L,UAAW,GACZE,YAAY,GAEbtH,EAAKqH,YAAclF,sBAPDnC,mFAWlBE,KAAKH,MAAMwH,gBAAgBrH,KAAKmH,YAAY3E,SAC5CxC,KAAKmH,YAAY3E,QAAQnB,sDAGJa,EAAWC,EAAWC,GAO3C,OANIF,EAAUkF,aAAepH,KAAKH,MAAMuH,YACvCpH,KAAKM,SAAS,CACb8G,WAAYlF,EAAUkF,cAIjB,mCAGC,IAAA7F,EAC0BvB,KAAK3E,MAA/B6L,EADA3F,EACA2F,UAAWE,EADX7F,EACW6F,WAEnB,OACC1K,EAAAC,EAAAC,cAAA,OAAK8C,UAAU,gBACdhD,EAAAC,EAAAC,cAAA,SACC8C,UAAU,eACVhE,KAAK,OACLmD,MAAOqI,EACPhE,IAAKlD,KAAKmH,YACVhE,SAAUnD,KAAKgB,iBACfoC,UAAWpD,KAAKS,gBAEjB/D,EAAAC,EAAAC,cAAC6C,EAAA9C,EAAD,CACC+C,UAAU,YACVC,QAASK,KAAKiH,iBACdlE,UACEmE,EAAUrG,QAEXuG,GANF,oBA5DsC9D,cCE3B/D,EAFCC,kBAFQ,iBAAO,CAAEV,eACN,GAGZS,CAAQ+H,GCDFC,sBAapB,SAAAA,EAAY1H,GAAO,IAAAC,EAAA,OAAA1C,OAAA2C,EAAA,EAAA3C,CAAA4C,KAAAuH,IAClBzH,EAAA1C,OAAA6C,EAAA,EAAA7C,CAAA4C,KAAA5C,OAAA8C,EAAA,EAAA9C,CAAAmK,GAAApH,KAAAH,KAAMH,KAbPwH,gBAAkB,SAAAG,GACjB1H,EAAKQ,SAAS,CACbkH,kBAUiB1H,EAPnBgE,eAAiB,SAAAsD,GAChBtH,EAAKQ,SAAS,CACb8G,gBAQDtH,EAAKzE,MAAQ,CACZmM,aAAc,KACZJ,YAAY,GALGtH,wEAkBV,IAAAyB,EAC6BvB,KAAK3E,MAAlCmM,EADAjG,EACAiG,aAAcJ,EADd7F,EACc6F,WAEtB,OACC1K,EAAAC,EAAAC,cAAA,OAAK8C,UAAU,gBACdhD,EAAAC,EAAAC,cAAC6K,EAAD,CACCtG,aAAcqG,EACd1D,eAAgB9D,KAAK8D,iBAEtBpH,EAAAC,EAAAC,cAAC8K,EAAD,CACCL,gBAAiBrH,KAAKqH,gBACtBD,WAAYA,YA1CyB9D,cC0B3BqE,EA5BG,WACjB,IAAMC,EAAO,CACZ,CACInM,OAAQoM,IACNzI,KAAM,IACX0I,UAAWC,EACP5K,OAAO,GAEZ,CACI1B,OAAQoM,IACNzI,KAAM,QACX0I,UAAWf,EACP5J,OAAO,IAGP6K,EAAU,CACf,CACCvM,OAAQwM,IACN3D,KAAM,KACJ4D,GAAI,IACP/K,OAAO,IAIV,OAAOyK,EAAK9E,OAAOkF,IC3BLG,2BAAe,CAC7BC,WAAY,CACXC,iBAAiB,KCCbC,UAAM5L,EAAAC,EAAAC,cCKG,kBACdF,EAAAC,EAAAC,cAAC2L,EAAA,SAAD,CAAUC,MAAOA,GAChB9L,EAAAC,EAAAC,cAAC6L,EAAA,gBAAD,CAAiBxN,QAASA,GACzByB,EAAAC,EAAAC,cAAC8L,EAAA,iBAAD,CAAkBC,MAAOA,GACxBjM,EAAAC,EAAAC,cAACL,EAAD,CAAQE,QAASkL,QDTT,OACNiB,EAAOvD,SAASwD,eAAe,QAErCC,iBAAOR,EAAKM","file":"static/js/main.9bcf6f6c.chunk.js","sourcesContent":["import { composeWithDevTools } from 'redux-devtools-extension';\r\nimport { createBrowserHistory } from 'history';\r\n\r\n\r\nexport const devTools = window.devToolsEnhancer || composeWithDevTools({\r\n\t    name: 'AppMainWrapper.appRoutes appRoutes',\r\n\trealtime: true,\r\n\thostname: 'localhost',\r\n\t    port: 8000\r\n});\r\nexport const history = createBrowserHistory();","import { combineReducers } from 'redux';\r\nimport tasks from './tasks.js';\r\n\r\n\r\nexport default combineReducers({ tasks });","import { INIT_CURRENT_LIST } from '$const/actionTypes';\r\n\r\n\r\nexport default (state = [], action = {}) => {\r\n\tswitch (action.type) {\r\n\t\tcase INIT_CURRENT_LIST: {\r\n\t\t\treturn action.tasks;\r\n\t\t}\r\n\r\n\t\tdefault: {\r\n\t\t\treturn state;\r\n\t\t}\r\n\t}\r\n};","export const INIT_CURRENT_LIST = 'INIT_CURRENT_LIST';","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport { connectRouter, routerMiddleware } from 'connected-react-router';\r\nimport { devTools, history } from './helpers.js';\r\n\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from '$store/reducers/index';\r\n\r\n\r\nconst configureStore = (initialState) => {\r\n\tconst middlewares = [\r\n\t\tthunk,\r\n\t\trouterMiddleware(history)\r\n\t];\r\n\tconst enhancers = [\r\n\t\tapplyMiddleware(...middlewares),\r\n\t\tdevTools()\r\n\t];\r\n\r\n\treturn createStore(\r\n\t\tconnectRouter(history)(rootReducer),\r\n\t\tinitialState,\r\n\t\tcompose(...enhancers)\r\n\t);\r\n};\r\n\r\n\r\nexport default configureStore({});","import React from 'react';\r\nimport { Switch } from 'react-router-dom';\r\n\r\n\r\nconst getActions = urls => {\r\n\treturn urls.map(\r\n\t\t(route, index) => {\r\n\t\t\tconst Action = route.action;\r\n\t\t\tconst isExact = route.exact;\r\n\r\n\t\t\tdelete route.action;\r\n\t\t\tdelete route.exact;\r\n\r\n\t\t\treturn (\r\n\t\t\t\tisExact\r\n\t\t\t\t\t? <Action key={index} {...route} exact />\r\n\t\t\t\t\t: <Action key={index} {...route} />\r\n\t\t\t);\r\n\t\t}\r\n\t);\r\n};\r\n\r\nexport default ({ getUrls }) => (\r\n\t<Switch>\r\n\t\t{ getActions(getUrls()) }\r\n\t</Switch>\r\n);","const protocol = 'http://';\r\nconst domain = 'kspace-mailer.hol.es';\r\nconst path = '/';\r\nconst HOST = protocol + domain + path;\r\n\r\nconst saveOnServer = obj => {\r\n\tconst data = new FormData();\r\n\tdata.append(\r\n\t\t'data',\r\n\t\tJSON.stringify(obj)\r\n\t);\r\n\r\n\tconst url = HOST + 'server_setter.php';\r\n\tconst params = {\r\n\t\tmethod: 'POST',\r\n\t\tbody: data\r\n\t};\r\n\r\n\tfetch(url, params)\r\n\t\t.then(\r\n\t\t\tresponse => response.text()\r\n\t\t)\r\n\t\t.catch(\r\n\t\t\terror => { console.log('There has been a problem with your fetch operation: ' + error.message);\t}\r\n\t\t);\r\n};\r\n\r\n\r\nexport const getStartList = () => (\r\n\tfetch(HOST + 'server_getter.php')\r\n\t\t.then(\r\n\t\t\tresponse => response.json()\r\n\t\t)\r\n\t\t.catch(\r\n\t\t\terror => { console.log('There has been a problem with your fetch operation: ' + error.message);\t}\r\n\t\t)\r\n);\r\nexport const getUpdatedList = () => {\r\n\tconst data = new FormData();\r\n\tdata.append(\r\n\t\t'time',\r\n\t\tJSON.stringify(+new Date())\r\n\t);\r\n\r\n\tconst url = HOST + 'long_polling.php';\r\n\tconst params = {\r\n\t\tmethod: 'POST',\r\n\t\tbody: data\r\n\t};\r\n\r\n\treturn fetch(url, params)\r\n\t\t.then(\r\n\t\t\tresponse => response.json()\r\n\t\t)\r\n\t\t.catch(\r\n\t\t\terror => { console.log('There has been a problem with your fetch operation: ' + error.message);\t}\r\n\t\t);\r\n};\r\nexport const updateTask = (id, value) => {\r\n\tsaveOnServer({\r\n\t\taction: 'update_task',\r\n\t\tid,\r\n\t\tvalue\r\n\t});\r\n};\r\nexport const addNewTask = value => {\r\n\tsaveOnServer({\r\n\t\taction: 'add_task',\r\n\t\tvalue\r\n\t});\r\n};\r\nexport const deleteTask = id => {\r\n\tsaveOnServer({\r\n\t\taction: 'delete_task',\r\n\t\tid\r\n\t});\r\n};\r\nexport const doneTask = id => {\r\n\tsaveOnServer({\r\n\t\taction: 'done_task',\r\n\t\tid\r\n\t});\r\n};","import { INIT_CURRENT_LIST } from '$const/actionTypes';\r\n\r\n\r\nexport default {\r\n\tinitCurrentList: tasks => ({\r\n\t\ttype: INIT_CURRENT_LIST,\r\n\t\ttasks\r\n\t}),\r\n};","import { connect as reactConnect } from 'react-redux';\r\nimport { push } from '$store/actions/dispatchers';\r\nimport Start from '$comp/PageStart';\r\n\r\n\r\nconst mapStateToProps = () => ({});\r\nconst mapDispatchToProps = {push};\r\nconst connect = reactConnect(mapStateToProps, mapDispatchToProps);\r\n\r\nexport default connect(Start);","import { push as routerPush } from 'connected-react-router';\r\nimport { getStartList, getUpdatedList } from '$server/index';\r\nimport creators from './creators.js';\r\n\r\n\r\nexport const listInit = () => dispatch => {\r\n\tconst longPolling = () => {\r\n\t\tgetUpdatedList()\r\n\t\t\t.then(\r\n\t\t\t\ttasks => {\r\n\t\t\t\t\tdispatch(creators.initCurrentList(tasks));\r\n\t\t\t\t\tlongPolling();\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t};\r\n\r\n\tgetStartList()\r\n\t\t.then(\r\n\t\t\ttasks => {\r\n\t\t\t\tdispatch(creators.initCurrentList(tasks));\r\n\t\t\t}\r\n\t\t);\r\n\tlongPolling();\r\n};\r\nexport const push = path => dispatch => {\r\n\tdispatch(routerPush(path));\r\n};","import React from 'react';\r\n\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport '$assets/styles/PageStart.css';\r\n\r\n\r\nexport default ({ push }) => {\r\n\tconst handleClick = () => {\r\n\t\tpush('/list');\r\n\t};\r\n\r\n\treturn <Button\tclassName=\"btnShow\" onClick={handleClick}>Show list</Button>;\r\n}","import React, { Component, createRef } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport '$assets/styles/SingleTask.css';\r\n\r\n\r\nexport default class SingleTask extends Component {\r\n\thandleUpdateStart = () => {\r\n\t\tconst { changeTotalUpdating } = this.props;\r\n\r\n\t\tthis.setState({\r\n\t\t\tisCurrentUpdating: true\r\n\t\t});\r\n\r\n\t\tchangeTotalUpdating(\r\n\t\t\ttrue,\r\n\t\t\tscrollTop => {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tscrollTop: scrollTop\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t);\r\n\t};\r\n\thandleKeyDown = e => {\r\n\t\tif (e.keyCode === 13) {\r\n\t\t\tif (this.state.changingValue.trim()) {\r\n\t\t\t\tthis.handleUpdateSave();\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (e.keyCode === 27) {\r\n\t\t\tthis.handleUpdateCancel();\r\n\t\t}\r\n\t};\r\n\thandleTextChange = e => {\r\n\t\tthis.setState({\r\n\t\t\tchangingValue: e.target.value\r\n\t\t});\r\n\t};\r\n\thandleUpdateCancel = () => {\r\n\t\tconst { fieldAddTask, changeTotalUpdating } = this.props;\r\n\t\tconst { value } = this.state;\r\n\r\n\t\tthis.setState({\r\n\t\t\tisCurrentUpdating: false,\r\n\t\t\t    changingValue: value\r\n\t\t});\r\n\t\tthis.updatedField = null;\r\n\t\tfieldAddTask.focus();\r\n\r\n\t\tchangeTotalUpdating(false, () => {});\r\n\t};\r\n\thandleUpdateSave = () => {\r\n\t\tconst { fieldAddTask, changeTotalUpdating, updateTask } = this.props;\r\n\t\tconst { id, changingValue } = this.state;\r\n\r\n\t\tthis.setState({\r\n\t\t\tisCurrentUpdating: false,\r\n\t\t\t            value: changingValue\r\n\t\t});\r\n\t\tthis.updatedField = null;\r\n\t\tfieldAddTask.focus();\r\n\r\n\t\tchangeTotalUpdating(false, () => {});\r\n\t\tupdateTask(id, changingValue);\r\n\t};\r\n\r\n\thandleRemoveTask = () => {\r\n\t\tconst { fieldAddTask, deleteTask } = this.props;\r\n\t\tconst { id } = this.state;\r\n\t\tfieldAddTask.focus();\r\n\r\n\t\tdeleteTask(id);\r\n\t};\r\n\thandleDoneTask = () => {\r\n\t\tconst { fieldAddTask, doneTask } = this.props;\r\n\t\tconst { id } = this.state;\r\n\r\n\t\tthis.setState({\r\n\t\t\tisDone: true\r\n\t\t});\r\n\t\tfieldAddTask.focus();\r\n\r\n\t\tdoneTask(id);\r\n\t};\r\n\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tconst { taskInfo, scrollTop, isScroll } = props;\r\n\r\n\t\tthis.state = {\r\n\t\t\tscrollTop,\r\n\t\t\tisScroll,\r\n\t\t\tisCurrentUpdating: false,\r\n\t\t\t  isTotalUpdating: false,\r\n\t\t\t\tchangingValue: taskInfo.value,\r\n\r\n\t\t\t\t\t\t   id: taskInfo.id,\r\n\t\t\t\t\t\tvalue: taskInfo.value,\r\n\t\t\t\t\t   isDone: taskInfo.isDone\r\n\t\t};\r\n\r\n\t\tthis.updatedFieldRef = createRef();\r\n\t\t   this.updatedField = null;\r\n\t}\r\n\r\n\tshouldComponentUpdate(nextProps, nextState, nextContext) {\r\n\t\tif (nextProps['taskInfo'].value !== this.props['taskInfo'].value) {\r\n\t\t\tthis.setState({\r\n\t\t\t\t        value: nextProps['taskInfo'].value,\r\n\t\t\t\tchangingValue: nextProps['taskInfo'].value\r\n\t\t\t});\r\n\t\t}\r\n\t\tif (nextProps['taskInfo'].isDone !== this.props['taskInfo'].isDone) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tisDone: nextProps['taskInfo'].isDone\r\n\t\t\t});\r\n\t\t}\r\n\t\tif (nextProps.isTotalUpdating !== this.props.isTotalUpdating) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tisTotalUpdating: nextProps.isTotalUpdating\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n\r\n\tcomponentDidUpdate(prevProps, prevState, snapShot) {\r\n\t\tif (this.updatedField) {\r\n\t\t\tif (this.state.isCurrentUpdating) {\r\n\t\t\t\tthis.updatedField.focus();\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\tif (this.updatedFieldRef.current) {\r\n\t\t\t\tthis.updatedField = this.updatedFieldRef.current;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (prevProps.isScroll !== this.props.isScroll) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tisScroll: this.props.isScroll\r\n\t\t\t});\r\n\t\t\tthis.forceUpdate();\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tisDone,\r\n\t\t\tvalue,\r\n\t\t\tchangingValue,\r\n\t\t\tisCurrentUpdating,\r\n\t\t\tisTotalUpdating,\r\n\t\t\tscrollTop,\r\n\t\t\tisScroll\r\n\t\t} = this.state;\r\nconsole.log( isScroll );\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t{\r\n\t\t\t\tisDone\r\n\t\t\t\t\t? (\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName=\"singleTask\"\r\n\t\t\t\t\t\t\tstyle={{ backgroundColor: '#3b9' }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div className=\"taskValue\">{value}</div>\r\n\t\t\t\t\t\t\t<div className={\r\n\t\t\t\t\t\t\t\t`controls ${(isTotalUpdating || !isScroll ) ? 'isUpdating' : 'notUpdating'}`\r\n\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tclassName=\"btn btnRemoveDone\"\r\n\t\t\t\t\t\t\t\t\tonClick={this.handleRemoveTask}\r\n\t\t\t\t\t\t\t\t\tdisabled={isTotalUpdating}\r\n\t\t\t\t\t\t\t\t>Remove</Button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)\r\n\t\t\t\t\t: (\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName=\"singleTask\"\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tbackgroundColor: isCurrentUpdating ? '#b9daff' : '#ccc'\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tisCurrentUpdating\r\n\t\t\t\t\t\t\t\t? (\r\n\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"inputWrapper\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tborder: isCurrentUpdating ? '2px solid #55c' : 'none'\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"updateTaskField\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ marginTop: `${6 - scrollTop}px` }}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={changingValue}\r\n\t\t\t\t\t\t\t\t\t\t\t\tref={this.updatedFieldRef}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={this.handleTextChange}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonKeyDown={this.handleKeyDown}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.test}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className={\r\n\t\t\t\t\t\t\t\t\t\t\t`controls ${(isTotalUpdating || !isScroll ) ? 'isUpdating' : 'notUpdating'}`\r\n\t\t\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btnBig btnUpdateSave\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.handleUpdateSave}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={!changingValue.trim()}\r\n\t\t\t\t\t\t\t\t\t\t\t>Save</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btnBig btnUpdateCancel\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.handleUpdateCancel}\r\n\t\t\t\t\t\t\t\t\t\t\t>Cancel</Button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t: (\r\n\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"taskValue\">{value}</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className={\r\n\t\t\t\t\t\t\t\t\t\t\t`controls ${(isTotalUpdating || !isScroll ) ? 'isUpdating' : 'notUpdating'}`\r\n\t\t\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btnSmall btnDone\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.handleDoneTask}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={isTotalUpdating}\r\n\t\t\t\t\t\t\t\t\t\t\t>Done</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btnSmall btnUpdateBegin\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.handleUpdateStart}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={isTotalUpdating}\r\n\t\t\t\t\t\t\t\t\t\t\t>Update</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btnSmall btnRemove\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.handleRemoveTask}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={isTotalUpdating}\r\n\t\t\t\t\t\t\t\t\t\t\t>Remove</Button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)\r\n\t\t\t}\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n}","import { connect as reactConnect } from 'react-redux';\r\nimport { deleteTask, doneTask, updateTask } from '$server/index';\r\nimport SingleTask from '$comp/todo_list/SingleTask';\r\n\r\n\r\nconst mapStateToProps = () => ({ deleteTask, doneTask, updateTask });\r\nconst mapDispatchToProps = {};\r\nconst connect = reactConnect(mapStateToProps, mapDispatchToProps);\r\n\r\nexport default connect(SingleTask);","import React, { Component } from 'react';\r\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\r\n\r\nimport SingleTask from '$cont/todo_list/SingleTask';\r\n\r\nimport '$assets/styles/TaskList.css';\r\n\r\n\r\nexport default class TaskList extends Component {\r\n\tgetOrder = tasks => tasks.reduce(\r\n\t\t(result, task) => {\r\n\t\t\tresult.push(task.id);\r\n\t\t\treturn result;\r\n\t\t},\r\n\t\t[]\r\n\t);\r\n\tchangeUpdatingState = (isTotalUpdating, changeScrollTop) => {\r\n\t\tthis.setState({\r\n\t\t\tisTotalUpdating\r\n\t\t});\r\n\t\tthis.props.changeUpdating(isTotalUpdating);\r\n\r\n\t\tif (isTotalUpdating) {\r\n\t\t\tchangeScrollTop(this.scrollTop);\r\n\t\t}\r\n\t};\r\n\tonDragEnd = result => {\r\n\t\tif (result.destination) {\r\n\t\t\tconst reorder = (list, startIndex, endIndex) => {\r\n\t\t\t\tconst result = Array.from(list);\r\n\t\t\t\tconst [removed] = result.splice(startIndex, 1);\r\n\t\t\t\tresult.splice(endIndex, 0, removed);\r\n\r\n\t\t\t\treturn result;\r\n\t\t\t};\r\n\t\t\tconst items = reorder(\r\n\t\t\t\tthis.state.items,\r\n\t\t\t\tresult.source.index,\r\n\t\t\t\tresult.destination.index\r\n\t\t\t);\r\n\r\n\t\t\tthis.setState({\r\n\t\t\t\titems,\r\n\t\t\t\torder: this.getOrder(items)\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tprops.listInit();\r\n\r\n\t\tthis.state = {\r\n\t\t\t          items: [],\r\n\t\t\t\t\t  order: [],\r\n\t\t\t\t   isScroll: false,\r\n\t\t\tisTotalUpdating: false\r\n\t\t};\r\n\t\tthis.scrollTop = 0;\r\n\t}\r\n\r\n\tshouldComponentUpdate(nextProps, nextState, nextContext) {\r\n\t\tif (this.props.tasks !== nextProps.tasks ) {\r\n\t\t\tif (this.props.tasks.length === 0) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\titems: nextProps.tasks,\r\n\t\t\t\t\torder: this.getOrder(nextProps.tasks)\r\n\t\t\t\t});\r\n\t\t\t\tif (nextProps.tasks.length > 7) {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tisScroll: true\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tif (nextProps.tasks.length <= 7) {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tisScroll: false\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tlet newList = [];\r\n\r\n\t\t\t\tthis.state.order.forEach(\r\n\t\t\t\t\tid => {\r\n\t\t\t\t\t\tnextProps.tasks.forEach(\r\n\t\t\t\t\t\t\tnewProp => {\r\n\t\t\t\t\t\t\t\tif (newProp.id === id) {\r\n\t\t\t\t\t\t\t\t\tnewList.push(newProp)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\tnextProps.tasks.forEach(\r\n\t\t\t\t\tnewProp => {\r\n\t\t\t\t\t\tlet isNotPresent = true;\r\n\r\n\t\t\t\t\t\tnewList.forEach(\r\n\t\t\t\t\t\t\tlistProp => {\r\n\t\t\t\t\t\t\t\tif (newProp.id === listProp.id) {\r\n\t\t\t\t\t\t\t\t\tisNotPresent = false;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\tif (isNotPresent) {\r\n\t\t\t\t\t\t\tnewList.push(newProp)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\titems: newList\r\n\t\t\t\t});\r\n\t\t\t\tif (!this.state.isScroll && newList.length > 7) {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tisScroll: true\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tif (this.state.isScroll && newList.length <= 7) {\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tisScroll: false\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState, snapShot) {\r\n\t\tconst list = document.body.getElementsByClassName('todoList')[0];\r\n\r\n\t\tif (list) {\r\n\t\t\tlist.addEventListener(\r\n\t\t\t\t'scroll',\r\n\t\t\t\te => {\r\n\t\t\t\t\tthis.scrollTop = e.srcElement.scrollTop;\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\t\tif (this.needScrolling) {\r\n\t\t\t\tthis.needScrolling = false;\r\n\t\t\t\tlist.scrollTo(0, list.scrollHeight);\r\n\t\t\t}\r\n\t\t\tif (\r\n\t\t\t\t(prevProps.tasks.length < this.props.tasks.length)\r\n\t\t\t\t&&\r\n\t\t\t\t(prevProps.tasks.length !== 0)\r\n\t\t\t) {\r\n\t\t\t\tthis.needScrolling = true;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { fieldAddTask } = this.props;\r\n\t\tconst { isTotalUpdating, items, isScroll } = this.state;\r\n\r\n\t\treturn (\r\n\t\t\t<DragDropContext onDragEnd={this.onDragEnd}>\r\n\t\t\t\t<Droppable droppableId=\"droppable\" isDropDisabled={isTotalUpdating}>\r\n\t\t\t\t{\r\n\t\t\t\t\tprovided => (\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName=\"todoList\"\r\n\t\t\t\t\t\t\tref={provided.innerRef}\r\n\t\t\t\t\t\t\tstyle={{ overflowY: isTotalUpdating ? 'hidden' : 'auto' }}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{items.map(\r\n\t\t\t\t\t\t\t\t(item, index) => (\r\n\t\t\t\t\t\t\t\t\t<Draggable\r\n\t\t\t\t\t\t\t\t\t\tkey={item.id}\r\n\t\t\t\t\t\t\t\t\t\tdraggableId={item.id}\r\n\t\t\t\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tprovided => (\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"taskWrapper\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tref={provided.innerRef}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{...provided['draggableProps']}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{...provided['dragHandleProps']}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t...provided.draggableProps.style,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcursor: isTotalUpdating ? 'default' : 'move',\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<SingleTask\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttaskInfo={item}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tisTotalUpdating={isTotalUpdating}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tchangeTotalUpdating={this.changeUpdatingState}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldAddTask={fieldAddTask}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tisScroll={isScroll}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t</Draggable>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{ provided.placeholder }\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\t</Droppable>\r\n\t\t\t</DragDropContext>\r\n\t\t);\r\n\t}\r\n}","import { connect as reactConnect } from 'react-redux';\r\nimport { listInit } from '$store/actions/dispatchers';\r\nimport { getTasks } from '$store/selectors/index';\r\nimport List from '$comp/todo_list/TasksList';\r\n\r\n\r\nconst mapStateToProps = state => ({\r\n\ttasks: getTasks(state),\r\n});\r\nconst mapDispatchToProps = {listInit};\r\nconst connect = reactConnect(mapStateToProps, mapDispatchToProps);\r\n\r\nexport default connect(List);","export const getTasks = state => state.tasks;","import React, { Component, createRef } from 'react';\r\n\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport '$assets/styles/ActionsBlock.css';\r\n\r\n\r\nexport default class ActionsBlock extends Component {\r\n\taddNewTaskHandle = () => {\r\n\t\tthis.props.addNewTask(this.state.taskValue);\r\n\t\tthis.addFieldRef.current.focus();\r\n\t\tthis.setState({\r\n\t\t\ttaskValue: ''\r\n\t\t});\r\n\t};\r\n\thandleTextChange = e => {\r\n\t\tthis.setState({\r\n\t\t\ttaskValue: e.target.value\r\n\t\t});\r\n\t};\r\n\thandleKeyDown = e => {\r\n\t\tif (e.keyCode === 13) {\r\n\t\t\tif (!this.state.isUpdating) {\r\n\t\t\t\tthis.addNewTaskHandle();\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\t taskValue: '',\r\n\t\t\tisUpdating: false\r\n\t\t};\r\n\t\tthis.addFieldRef = createRef();\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.props.getAddTaskInput(this.addFieldRef.current);\r\n\t\tthis.addFieldRef.current.focus();\r\n\t}\r\n\r\n\tshouldComponentUpdate(nextProps, nextState, nextContext) {\r\n\t\tif (nextProps.isUpdating !== this.props.isUpdating) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tisUpdating: nextProps.isUpdating\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { taskValue, isUpdating } = this.state;\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"actionsBlock\">\r\n\t\t\t\t<input\r\n\t\t\t\t\tclassName=\"addTaskField\"\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tvalue={taskValue}\r\n\t\t\t\t\tref={this.addFieldRef}\r\n\t\t\t\t\tonChange={this.handleTextChange}\r\n\t\t\t\t\tonKeyDown={this.handleKeyDown}\r\n\t\t\t\t/>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tclassName=\"btnAddNew\"\r\n\t\t\t\t\tonClick={this.addNewTaskHandle}\r\n\t\t\t\t\tdisabled={\r\n\t\t\t\t\t\t!taskValue.trim()\r\n\t\t\t\t\t\t||\r\n\t\t\t\t\t\tisUpdating\r\n\t\t\t\t\t}\r\n\t\t\t\t>Add task</Button>\r\n\t\t\t</div>\r\n\t\t)\r\n\t};\r\n}","import { connect as reactConnect } from 'react-redux';\r\nimport { addNewTask } from '$server/index';\r\nimport Actions from '$comp/todo_list/ActionsBlock';\r\n\r\n\r\nconst mapStateToProps = () => ({ addNewTask });\r\nconst mapDispatchToProps = {};\r\nconst connect = reactConnect(mapStateToProps, mapDispatchToProps);\r\n\r\nexport default connect(Actions);","import React, { Component } from 'react';\r\n\r\nimport TasksList from '$cont/todo_list/TasksList';\r\nimport ActionsBlock from '$cont/todo_list/ActionsBlock';\r\n\r\nimport '$assets/styles/PageList.css';\r\n\r\n\r\nexport default class PageTodoList extends Component {\r\n\tgetAddTaskInput = inputAddTask => {\r\n\t\tthis.setState({\r\n\t\t\tinputAddTask\r\n\t\t});\r\n\t};\r\n\tchangeUpdating = isUpdating => {\r\n\t\tthis.setState({\r\n\t\t\tisUpdating\r\n\t\t});\r\n\t};\r\n\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tinputAddTask: null,\r\n\t\t\t  isUpdating: false\r\n\t\t};\r\n\t}\r\n/*\r\n\tcomponentDidUpdate(prevProps, prevState, snapshot) {\r\n\t\tif (!this.setAddTaskFocus && this.state.inputAddTask) {\r\n\t\t\tthis.setAddTaskFocus = () => {\r\n\t\t\t\tthis.state.inputAddTask.focus();\r\n\t\t\t};\r\n\t\t\tthis.forceUpdate();\r\n\t\t}\r\n\t}\r\n*/\r\n\trender() {\r\n\t\tconst { inputAddTask, isUpdating } = this.state;\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"pageTodoList\">\r\n\t\t\t\t<TasksList\r\n\t\t\t\t\tfieldAddTask={inputAddTask}\r\n\t\t\t\t\tchangeUpdating={this.changeUpdating}\r\n\t\t\t\t/>\r\n\t\t\t\t<ActionsBlock\r\n\t\t\t\t\tgetAddTaskInput={this.getAddTaskInput}\r\n\t\t\t\t\tisUpdating={isUpdating}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}","import { Route, Redirect } from 'react-router-dom';\r\n\r\nimport Start from '$cont/PageStart';\r\nimport List from '$comp/todo_list/PageTodoList';\r\n\r\n\r\nconst appRoutes = () => {\r\n\tconst main = [\r\n\t\t{\r\n\t\t\t   action: Route,\r\n\t\t\t     path: '/',\r\n\t\t\tcomponent: Start,\r\n\t\t\t    exact: true\r\n\t\t},\r\n\t\t{\r\n\t\t\t   action: Route,\r\n\t\t\t     path: '/list',\r\n\t\t\tcomponent: List,\r\n\t\t\t    exact: true\r\n\t\t}\r\n\t];\r\n\tconst support = [\r\n\t\t{\r\n\t\t\taction: Redirect,\r\n\t\t\t  from: '/*',\r\n\t\t\t    to: '/',\r\n\t\t\t exact: false\r\n\t\t}\r\n\t];\r\n\r\n\treturn main.concat(support);\r\n};\r\n\r\n\r\nexport default appRoutes;","import { createMuiTheme } from '@material-ui/core/styles';\r\n\r\n\r\nexport default createMuiTheme({\r\n\ttypography: {\r\n\t\tuseNextVariants: true,\r\n\t}\r\n});","import React from 'react';\nimport { render } from 'react-dom';\nimport App from './app/blocks/AppMain.js';\nimport '$assets/styles/index.css';\n\n\nconst app = <App />;\nconst root = document.getElementById('root');\n\nrender(app, root);","import React from 'react';\r\nimport { Provider } from 'react-redux';\r\nimport { ConnectedRouter } from 'connected-react-router';\r\nimport { MuiThemeProvider } from '@material-ui/core/styles';\r\nimport { history } from '$store/storage/helpers';\r\nimport store from '$store/storage/index';\r\nimport Routes from '$routes/index';\r\nimport appRoutes from '$routes/appRoutes';\r\nimport theme from '$assets/themes/MainTheme';\r\n\r\n\r\nexport default () => (\r\n\t<Provider store={store}>\r\n\t\t<ConnectedRouter history={history}>\r\n\t\t\t<MuiThemeProvider theme={theme}>\r\n\t\t\t\t<Routes getUrls={appRoutes} />\r\n\t\t\t</MuiThemeProvider>\r\n\t\t</ConnectedRouter>\r\n\t</Provider>\r\n);"],"sourceRoot":""}