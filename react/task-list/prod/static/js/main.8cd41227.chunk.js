(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{112:function(e,t,a){e.exports=a(279)},122:function(e,t,a){},207:function(e,t,a){},275:function(e,t,a){},277:function(e,t,a){},279:function(e,t,a){"use strict";a.r(t);var s=a(19),n=a(0),i=a.n(n),r=a(22),l=a(21),d=a(49),o=a(105),c=a(33),u=window.devToolsEnhancer||Object(o.composeWithDevTools)({name:"AppMainWrapper.appRoutes appRoutes",realtime:!0,hostname:"localhost",port:8e3}),m=Object(c.a)(),h=a(106),f=a(27),p=a(109),N=[{id:1,taskName:"Task-1",userName:"Vasya",email:"vasya@example.com",status:!1},{id:2,taskName:"Task-2",userName:"Kolya",email:"kolya@example.com",status:!0},{id:3,taskName:"Task-3",userName:"Petya",email:"petya@example.com",status:!1},{id:4,taskName:"Task-4",userName:"Sasha",email:"sasha@example.com",status:!0},{id:5,taskName:"Task-5",userName:"Artur",email:"artur@example.com",status:!1},{id:6,taskName:"Task-6",userName:"Slavik",email:"slavik@example.com",status:!0},{id:7,taskName:"Task-7",userName:"Ivan",email:"ivan@example.com",status:!1}],g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{tasks:N,lastId:N.length},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"ADD_TASK":return{tasks:[].concat(Object(p.a)(e.tasks),[{id:e.lastId+1,email:t.value.email,userName:t.value.userName,taskName:t.value.taskName,status:!1}]),lastId:e.lastId+1};case"EDIT_TASK_NAME":return e.tasks[t.value.index].taskName=t.value.newTaskName,e;case"DONE_TASK":return e.tasks[t.value.index].status=!0,e;case"UNDONE_TASK":return e.tasks[t.value.index].status=!1,e;case"DELETE_TASK":return e.tasks[t.value.index].splice(t.value.index,1),e;default:return e}},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isAdmin:!1};switch((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).type){case"LOGIN":return{isAdmin:!0};case"LOGOUT":return{isAdmin:!1};default:return e}},v=function(e){var t,a=[h.a,Object(d.a)(m)],s=[l.applyMiddleware.apply(void 0,a),u()];return Object(l.createStore)((t=m,Object(l.combineReducers)({router:Object(f.b)(t),taskList:g,auth:k})),e,l.compose.apply(void 0,s))}({}),E=a(281),b=a(282),O=a(280),y=function(e){return e.auth.isAdmin},j=function(e){return e.taskList.tasks},S=a(16),w=a(6),F=a(50),C=a(51),T=a(54),A=a(52),x=a(55),D=a(32),L=a.n(D),R=a(25),K=a.n(R),I=(a(122),a(53)),P=a.n(I),U=function(e){var t=e.index,a=e.isAdmin,s=e.email,n=e.userName,r=e.taskName,l=e.status,d=e.editTaskStart;return i.a.createElement("div",{className:"single-task"},i.a.createElement("div",{className:"control task-name"},r),i.a.createElement("div",{className:"control user-name"},n),i.a.createElement("div",{className:"control email"},s),i.a.createElement("div",{className:"control is-done-block"},i.a.createElement(P.a,{className:"control is-done-value",checked:l,disabled:!0})),i.a.createElement("div",{className:"control edit-task-block"},!!a&&i.a.createElement(K.a,{className:"btn edit-task-btn",onClick:function(){d(t)}},"Edit")))},_=a(107),M=a.n(_),G=(a(207),3),W=function(e){function t(e){var a;return Object(F.a)(this,t),(a=Object(T.a)(this,Object(A.a)(t).call(this,e))).getCurrentList=function(e){var t=a.state.other.listFull,s=G*e-1,n=G*(e-1),i=t.length>=s?s:t.length-1;return t.slice(n,i+1)},a.getCurrentIndex=function(e){return(a.state.other.activePage-1)*G+e},a.getArrowClass=function(){var e=function(e){switch(e){case"default":return"arrow-default";case"top":return"arrow arrow-top";case"bottom":return"arrow arrow-bottom";default:return""}},t=a.state.sort,s=t.userName,n=t.email,i=t.status;return{userName:e(s),email:e(n),status:e(i)}},a.getArrowStatus=function(e){switch(e){case"default":case"bottom":return"top";case"top":return"bottom";default:return""}},a.handleEmailChange=function(e){e.target.value&&a.userNameRef.current.props.value&&a.taskNameAddRef.current.props.value?a.setState({fields:Object(w.a)({},a.state.fields,{emailField:e.target.value}),other:Object(w.a)({},a.state.other,{addFieldsEmpty:!1})}):a.setState({fields:Object(w.a)({},a.state.fields,{emailField:e.target.value}),other:Object(w.a)({},a.state.other,{addFieldsEmpty:!0})})},a.handleUserNameChange=function(e){a.emailRef.current.props.value&&e.target.value&&a.taskNameAddRef.current.props.value?a.setState({fields:Object(w.a)({},a.state.fields,{userNameField:e.target.value}),other:Object(w.a)({},a.state.other,{addFieldsEmpty:!1})}):a.setState({fields:Object(w.a)({},a.state.fields,{userNameField:e.target.value}),other:Object(w.a)({},a.state.other,{addFieldsEmpty:!0})})},a.handleTaskNameAddChange=function(e){a.emailRef.current.props.value&&a.userNameRef.current.props.value&&e.target.value?a.setState({fields:Object(w.a)({},a.state.fields,{taskNameAddField:e.target.value}),other:Object(w.a)({},a.state.other,{addFieldsEmpty:!1})}):a.setState({fields:Object(w.a)({},a.state.fields,{taskNameAddField:e.target.value}),other:Object(w.a)({},a.state.other,{addFieldsEmpty:!0})})},a.handleTaskNameEditChange=function(e){e.target.value?a.setState({fields:Object(w.a)({},a.state.fields,{taskNameEditField:e.target.value}),other:Object(w.a)({},a.state.other,{editFieldsEmpty:!1})}):a.setState({fields:Object(w.a)({},a.state.fields,{taskNameEditField:e.target.value}),other:Object(w.a)({},a.state.other,{editFieldsEmpty:!0})})},a.handleEditTaskStart=function(e){var t=a.state.other.listFull;a.setState({fields:Object(w.a)({},a.state.fields,{taskNameEditField:t[e].taskName,isDoneField:t[e].status}),other:Object(w.a)({},a.state.other,{editingIndex:e})})},a.handleEditTaskFinish=function(){(0,a.props.editTask)(a.state.other.editingIndex,a.taskNameEditRef.current.props.value,a.doneRef.current.props.checked),a.setState({fields:Object(w.a)({},a.state.fields,{taskNameEditField:""}),other:Object(w.a)({},a.state.other,{editingIndex:-1})})},a.handleKeyDownAdd=function(e){var t=a.state.other.addFieldsEmpty;13===e.keyCode&&(t||a.handleAddTask())},a.handleKeyDownEdit=function(e){var t=a.state.other.editFieldsEmpty;13===e.keyCode&&(t||a.handleEditTaskFinish())},a.handleDoneChange=function(e){a.setState({fields:Object(w.a)({},a.state.fields,{isDoneField:e.target.checked})})},a.handleLogout=function(){(0,a.props.logout)()},a.handleLogin=function(){(0,a.props.push)("/auth")},a.handleAddTask=function(){(0,a.props.addTask)(a.emailRef.current.props.value,a.userNameRef.current.props.value,a.taskNameAddRef.current.props.value),a.setState({fields:Object(w.a)({},a.setState.fields,{emailField:"",userNameField:"",taskNameAddField:""}),other:Object(w.a)({},a.state.other,{addFieldsEmpty:!0})})},a.handlePageChange=function(e){a.setState({other:Object(w.a)({},a.state.other,{activePage:e,listOnCurrentPage:a.getCurrentList(e)})})},a.getListFullSorted=function(e){var t=a.state.other.listFull,s=a.state.sort[e];return t.sort(function(t,a){return("top"===s?a[e]>t[e]:t[e]>a[e])?1:-1}),t},a.handleSortUsername=function(){var e=a.state.sort.userName;a.setState({sort:{userName:a.getArrowStatus(e),email:"default",status:"default"}}),a.updateLists(a.getListFullSorted("userName"))},a.handleSortEmail=function(){var e=a.state.sort.email;a.setState({sort:{userName:"default",email:a.getArrowStatus(e),status:"default"}}),a.updateLists(a.getListFullSorted("email"))},a.handleSortStatus=function(){var e=a.state.sort.status;a.setState({sort:{userName:"default",email:"default",status:a.getArrowStatus(e)}}),a.updateLists(a.getListFullSorted("status"))},a.updateLists=function(e){var t=a.state.other.activePage;a.setState({other:Object(w.a)({},a.state.other,{listFull:e})},function(){a.setState({other:Object(w.a)({},a.state.other,{listOnCurrentPage:a.getCurrentList(t)})})})},a.state={fields:{emailField:"",userNameField:"",taskNameAddField:"",taskNameEditField:"",isDoneField:!1},sort:{userName:"default",email:"default",status:"default"},other:{listFull:e.taskList,listOnCurrentPage:[],activePage:1,editingIndex:-1,addFieldsEmpty:!0,editFieldsEmpty:!1}},a.emailRef=Object(n.createRef)(),a.taskNameAddRef=Object(n.createRef)(),a.userNameRef=Object(n.createRef)(),a.taskNameEditRef=Object(n.createRef)(),a.doneRef=Object(n.createRef)(),a}return Object(x.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){this.updateLists(this.props.taskList)}},{key:"componentDidUpdate",value:function(e,t,a){this.props.taskList.length!==e.taskList.length&&this.updateLists(this.props.taskList)}},{key:"render",value:function(){var e=this,t=this.props.isAdmin,a=this.state.fields,s=a.emailField,n=a.userNameField,r=a.taskNameAddField,l=a.taskNameEditField,d=a.isDoneField,o=this.state.other,c=o.listFull,u=o.listOnCurrentPage,m=o.activePage,h=o.editingIndex,f=o.addFieldsEmpty,p=o.editFieldsEmpty,N=h>-1,g=!t||!N,k=this.getArrowClass();return i.a.createElement("div",{className:"content"},i.a.createElement("div",{className:"auth-panel"},t?i.a.createElement(K.a,{className:"btn logout-btn",disabled:N,onClick:this.handleLogout},"Logout"):i.a.createElement(K.a,{className:"btn login-btn",disabled:N,onClick:this.handleLogin},"Login")),i.a.createElement("div",{className:"main-panel"},i.a.createElement("div",{className:"sort-panel"},i.a.createElement("div",{className:"sort sort-username",onClick:this.handleSortUsername},i.a.createElement("div",{className:k.userName})),i.a.createElement("div",{className:"sort sort-email",onClick:this.handleSortEmail},i.a.createElement("div",{className:k.email})),i.a.createElement("div",{className:"sort sort-status",onClick:this.handleSortStatus},i.a.createElement("div",{className:k.status}))),i.a.createElement("div",{className:"list"},!!u&&u.map(function(a,s){return i.a.createElement(U,{key:e.getCurrentIndex(s),index:e.getCurrentIndex(s),isAdmin:t,email:a.email,userName:a.userName,taskName:a.taskName,status:a.status,editTaskStart:e.handleEditTaskStart})})),i.a.createElement(M.a,{hideDisabled:!0,activePage:m,itemsCountPerPage:G,totalItemsCount:c.length,pageRangeDisplayed:3,onChange:this.handlePageChange})),g?i.a.createElement("div",{className:"bottom add-task"},i.a.createElement(L.a,{className:"field email",value:s,helperText:"Email",ref:this.emailRef,onChange:this.handleEmailChange,onKeyDown:this.handleKeyDownAdd,autoFocus:!0}),i.a.createElement(L.a,{className:"field user-name",value:n,helperText:"UserName",ref:this.userNameRef,onChange:this.handleUserNameChange,onKeyDown:this.handleKeyDownAdd}),i.a.createElement(L.a,{className:"field task-name-add",value:r,helperText:"TaskName",ref:this.taskNameAddRef,onChange:this.handleTaskNameAddChange,onKeyDown:this.handleKeyDownAdd}),i.a.createElement(K.a,{className:"btn add-task-btn",onClick:this.handleAddTask,disabled:f},"Add task")):i.a.createElement("div",{className:"bottom edit-task"},i.a.createElement(L.a,{className:"field task-name-edit",value:l,helperText:"Login",type:"text",ref:this.taskNameEditRef,onChange:this.handleTaskNameEditChange,onKeyDown:this.handleKeyDownEdit}),i.a.createElement("div",{className:"is-done-block"},i.a.createElement("div",{className:"is-done-label"},"Done:"),i.a.createElement(P.a,{className:"is-done-value",checked:d,onChange:this.handleDoneChange,ref:this.doneRef})),i.a.createElement(K.a,{className:"btn edit-task-btn",onClick:this.handleEditTaskFinish,disabled:p},"Edit task")))}}]),t}(n.PureComponent),J={addTask:function(e,t,a){return function(s){s({type:"ADD_TASK",value:{userName:t,email:e,taskName:a}})}},editTask:function(e,t,a){return function(s){s({type:"EDIT_TASK_NAME",value:{index:e,newTaskName:t}}),s(a?{type:"DONE_TASK",value:{index:e,status:a}}:{type:"UNDONE_TASK",value:{index:e,status:a}})}},logout:function(){return function(e){e({type:"LOGOUT"})}},push:function(e){return function(t){t(Object(S.d)(e))}}},V=Object(r.c)(function(e){return{isAdmin:y(e),taskList:j(e)}},J)(W),B=a(108),q=a.n(B),z=a(70),H=a.n(z),Q={login:"1",password:"1"},X=(a(275),function(e){function t(e){var a;Object(F.a)(this,t),(a=Object(T.a)(this,Object(A.a)(t).call(this,e))).handleLoginChange=function(e){a.setState(Object(w.a)({},a.state,{login:e.target.value}))},a.handlePasswordChange=function(e){a.setState(Object(w.a)({},a.state,{password:e.target.value}))},a.handleSignIn=function(){var e=a.props,t=e.login,s=e.push;a.state.login===Q.login&&a.state.password===Q.password?(t(),s("/list")):a.setState(Object(w.a)({},a.state,{showError:!0}))},a.handleKeyDown=function(e){a.setState(Object(w.a)({},a.state,{showError:!1})),13===e.keyCode&&a.handleSignIn()};var s=e.isAdmin,n=e.push;return s&&n("/"),a.state={login:"",password:"",showError:!1},a}return Object(x.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this.state,t=e.login,a=e.password,s=e.showError;return i.a.createElement("div",{className:"auth-form"},i.a.createElement(H.a,{className:"field login",helperText:"Login",value:t,onKeyDown:this.handleKeyDown,onChange:this.handleLoginChange,autoFocus:!0,placeholder:"admin"}),i.a.createElement(H.a,{className:"field password",helperText:"Password",value:a,onKeyDown:this.handleKeyDown,onChange:this.handlePasswordChange,placeholder:"123"}),i.a.createElement(q.a,{className:"btn signIn-btn",onClick:this.handleSignIn},"Sign in"),s?i.a.createElement("div",{className:"error"},"Wrong!"):i.a.createElement("div",{className:"error"}))}}]),t}(n.PureComponent)),Y={push:function(e){return function(t){t(Object(S.d)(e))}},login:function(){return function(e){e({type:"LOGIN"})}}},Z=Object(r.c)(function(e){return{isAdmin:y(e)}},Y)(X),$=a(36),ee=Object($.createMuiTheme)({typography:{useNextVariants:!0}}),te=i.a.createElement($.MuiThemeProvider,{theme:ee},i.a.createElement(r.a,{store:v},i.a.createElement(f.a,{history:m},i.a.createElement(function(e){var t=e.getUrls;return i.a.createElement(E.a,null,t().map(function(e,t){var a=e.action,s=e.exact;return delete e.action,delete e.exact,s?i.a.createElement(a,Object.assign({key:t},e,{exact:!0})):i.a.createElement(a,Object.assign({key:t},e))}))},{getUrls:function(){var e=[{action:b.a,path:"/",component:V,exact:!0},{action:b.a,path:"/auth",component:Z,exact:!0}],t=[{action:O.a,from:"/*",to:"/",exact:!1}];return e.concat(t)}})))),ae=(a(277),document.getElementById("root"));Object(s.render)(te,ae)}},[[112,2,1]]]);
//# sourceMappingURL=main.8cd41227.chunk.js.map