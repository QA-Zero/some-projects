(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{140:function(e,t,n){},142:function(e,t,n){},164:function(e,t,n){},166:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(19),o=n(17),c=n(6),s=n(58),u=window.devToolsEnhancer||Object(s.composeWithDevTools)({name:"AppMainWrapper.appRoutes appRoutes",realtime:!0,hostname:"localhost",port:8e3}),l=n(59),m=n(7),p=Object(c.combineReducers)({game:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cells:[],emptyIndex:-1,isGaming:!0,isAnimation:!1},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"START_NEW_GAME":return{cells:[],emptyIndex:-1,isGaming:!0,isAnimation:!1};case"UPDATE_CELLS":return Object(m.a)({},e,{cells:t.cells,emptyIndex:t.emptyIndex});case"START_ANIMATION":return Object(m.a)({},e,{isAnimation:!0});case"FINISH_ANIMATION":return Object(m.a)({},e,{isAnimation:!1,isGaming:t.isGaming});default:return e}}}),f=function(e){var t=[l.a],n=[c.applyMiddleware.apply(void 0,t),u()];return Object(c.createStore)(p,e,c.compose.apply(void 0,n))}({}),d=n(28),b=Object(d.createMuiTheme)({typography:{useNextVariants:!0}}),h=n(39),g=n.n(h),y=n(61),x=function(e){return e.game.cells},v=function(e){return e.game.emptyIndex},A=function(e){return e.game.isAnimation},T=function(e,t,n){if(0===n)e.style.top=0,e.style.bottom=0,e.style.left=0,e.style.right=0;else switch(t){case"top":e.style.top=25*-n+"px",e.style.bottom=25*n+"px";break;case"right":e.style.left=25*n+"px",e.style.right=25*-n+"px";break;case"bottom":e.style.top=25*n+"px",e.style.bottom=25*-n+"px";break;case"left":e.style.left=25*-n+"px",e.style.right=25*n+"px"}},E={1:[1,4],2:[1,4,-1],3:[1,4,-1],4:[4,-1],5:[-4,1,4],6:[-4,1,4,-1],7:[-4,1,4,-1],8:[-4,4,-1],9:[-4,1,4],10:[-4,1,4,-1],11:[-4,1,4,-1],12:[-4,4,-1],13:[-4,1],14:[-4,1,-1],15:[-4,1,-1],16:[-4,-1]},O=function(e,t,n){return e.map(function(e,t){return 0===e.number?e:Object(m.a)({},e,{dirTotal:E[t+1]})}).map(function(e,r){return r===t?e:(e.dirCurrent=!1,n&&e.dirTotal.forEach(function(n){if(r+n===t)switch(n){case-4:e.dirCurrent="top";break;case 1:e.dirCurrent="right";break;case 4:e.dirCurrent="bottom";break;case-1:e.dirCurrent="left"}}),e)})},I=function(e,t,n){var r=e[t];return e[t]=e[n],e[n]=r,e},N=function(e){var t=!1;return e.forEach(function(e,n){0!==e.number&&e.number!==n+1&&(t=!0)}),t},j=function(e,t,n){e({type:"UPDATE_CELLS",cells:t,emptyIndex:n})},k=function(e){e({type:"START_ANIMATION"})},w=function(e,t){e({type:"FINISH_ANIMATION",isGaming:t})},C=function(e){var t=function(){for(var e=[],t=0;t<16;t++)e.push({number:t});e.sort(function(){return Math.random()-.5});var n=function(){var t=-1;return e.forEach(function(e,n){0===e.number&&(t=n)}),t}();return{cells:O(e,n,!0),emptyIndex:n}}();!function(e){e({type:"START_NEW_GAME"})}(e),j(e,t.cells,t.emptyIndex)},G=n(62),S=n(63),R=n(66),M=n(64),_=n(67),z=n(65),L=n.n(z),P=(n(140),Object(o.b)(function(e){return e},null,function(e,t,n){var r=t.dispatch;return{moveCell:function(t,a){return function(e,t,n,r,a){(function(){var i=Object(y.a)(g.a.mark(function i(){var o,c,s;return g.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,new Promise(function(e){!function n(i){i++,k(t),T(r,a,i),i<4?setTimeout(function(){n(i)},150):(T(r,a,0),e())}(0)});case 2:o=I(JSON.parse(JSON.stringify(x(e))),v(e),n),c=N(o),s=O(o,n,c),w(t,c),j(t,s,n);case 7:case"end":return i.stop()}},i,this)}));return function(){return i.apply(this,arguments)}})()().then()}(e,r,n.index,t,a)},isAnimation:A(e),size:100,singleStep:25,number:n.number,direction:n.direction}})(function(e){var t,n=e.moveCell,i=e.number,o=e.size,c=e.singleStep,s=e.direction,u=e.isAnimation,l=Object(r.createRef)(),m={width:o+"px",height:o+"px"},p={lineHeight:o+"px",fontSize:3*c+"px"},f={};if(0===i)t="",p.backgroundColor="#aaa",m.zIndex=1;else if(t=i,m.border="2px solid #222",m.zIndex=2,p.backgroundColor="#77f",s&&!u){var d=o/2-2;switch(f.borderLeft=d+"px solid transparent",f.borderRight=d+"px solid transparent",f.borderTop=d+"px solid #55e",m.cursor="pointer",s){case"top":f.transform="rotate(180deg)";break;case"right":f.marginTop=d/2+"px",f.marginLeft=d/2+"px",f.transform="rotate(-90deg)";break;case"bottom":f.marginTop=d+"px",f.transform="rotate(0deg)";break;case"left":f.marginTop=d/2+"px",f.marginLeft=-d/2+"px",f.transform="rotate(90deg)"}}return a.a.createElement("div",{className:"cellTotal",style:m,ref:l},a.a.createElement("div",{className:"lvlBack",style:p},t),a.a.createElement("div",{className:"lvlFront",style:f,onClick:function(){n(l.current,s)}}))})),W=(n(142),function(e){function t(e){var n;return Object(G.a)(this,t),(n=Object(R.a)(this,Object(M.a)(t).call(this,e))).handleRestart=function(){(0,n.props.startGame)()},e.startGame(),n}return Object(_.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e,t=this.props,n=t.isAnimation,r=t.isGaming,i=t.cells,o=t.size,c={};r?(e="Gaming...",c.color="#00a"):(e="Winner!",c.color="#0a0");var s={width:4*o+6+"px",height:4*o+6+"px"};return n&&(s.cursor="wait"),a.a.createElement("div",{className:"mainPage"},a.a.createElement("div",{className:"status",style:c},e),a.a.createElement("div",{className:"field",style:s},i.map(function(e,t){return a.a.createElement(P,{key:t,index:t,number:e.number,direction:e.dirCurrent})})),a.a.createElement(L.a,{className:"btnRestart",onClick:this.handleRestart},"Restart"))}}]),t}(r.Component)),J=Object(o.b)(function(e){return e},null,function(e,t,n){var r=t.dispatch;return Object(m.a)({cells:x(e),isAnimation:A(e),isGaming:function(e){return e.game.isGaming}(e),startGame:function(){C(r)},size:100},n)})(W),D=(n(164),a.a.createElement(function(){return a.a.createElement(d.MuiThemeProvider,{theme:b},a.a.createElement(o.a,{store:f},a.a.createElement(J,null)))},null)),F=document.getElementById("root");Object(i.render)(D,F)},68:function(e,t,n){e.exports=n(166)}},[[68,2,1]]]);
//# sourceMappingURL=main.93ee5ab0.chunk.js.map